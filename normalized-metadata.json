{
  "controllers": [
    {
      "name": "UserController",
      "basePath": "users",
      "endpoints": [
        {
          "method": "GET",
          "path": "/users",
          "handler": "getAllUsers",
          "auth": null,
          "response": {
            "$ref": "#/components/schemas/UserResponseArray"
          }
        },
        {
          "method": "POST",
          "path": "/users",
          "handler": "createUser",
          "auth": "@UseGuards('JwtGuard')",
          "requestBody": {
            "$ref": "#/components/schemas/CreateUserDto"
          },
          "response": {
            "$ref": "#/components/schemas/UserResponse"
          }
        },
        {
          "method": "GET",
          "path": "/users/:id",
          "handler": "getUser",
          "auth": null,
          "params": [
            {
              "name": "id",
              "in": "path",
              "type": "string"
            }
          ],
          "response": {
            "$ref": "#/components/schemas/UserResponse"
          }
        }
      ]
    },
    {
      "name": "WalletController",
      "basePath": "wallet",
      "endpoints": [
        {
          "method": "GET",
          "path": "/wallet",
          "handler": "listWallets",
          "auth": "@UseGuards('JwtGuard')",
          "params": [
            {
              "name": "page",
              "in": "query",
              "type": "number"
            }
          ],
          "response": {
            "$ref": "#/components/schemas/WalletResponseArray"
          }
        },
        {
          "method": "GET",
          "path": "/wallet/:id",
          "handler": "getWallet",
          "auth": "@UseGuards('JwtGuard')",
          "params": [
            {
              "name": "id",
              "in": "path",
              "type": "string"
            }
          ],
          "response": {
            "$ref": "#/components/schemas/WalletResponse"
          }
        },
        {
          "method": "POST",
          "path": "/wallet/create",
          "handler": "createWallet",
          "auth": "@UseGuards('JwtGuard')",
          "requestBody": {
            "$ref": "#/components/schemas/CreateWalletDto"
          },
          "response": {
            "$ref": "#/components/schemas/WalletResponse"
          }
        },
        {
          "method": "POST",
          "path": "/wallet/transfer",
          "handler": "transfer",
          "auth": "@UseGuards('JwtGuard')",
          "requestBody": {
            "$ref": "#/components/schemas/TransferDto"
          },
          "response": {
            "$ref": "#/components/schemas/WalletController_transfer_Response"
          }
        }
      ]
    }
  ],
  "components": {
    "schemas": {
      "UserResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "email",
          "name"
        ]
      },
      "CreateUserDto": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        },
        "required": [
          "email",
          "name"
        ]
      },
      "WalletResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          }
        },
        "required": [
          "id",
          "amount",
          "currency"
        ]
      },
      "CreateWalletDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          }
        },
        "required": [
          "amount",
          "currency"
        ]
      },
      "TransferDto": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number"
          },
          "toUserId": {
            "type": "string"
          }
        },
        "required": [
          "amount",
          "toUserId"
        ]
      },
      "UserResponseArray": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/UserResponse"
        }
      },
      "WalletResponseArray": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/WalletResponse"
        }
      },
      "WalletController_transfer_Response": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          }
        },
        "required": [
          "success"
        ]
      }
    }
  }
}